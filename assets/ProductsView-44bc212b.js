import{d as k,r as v,u as e,o as u,c as g,a as o,w as r,B as $,n as l,b as y,e as d,t as _,f as x,g as b,s as t,_ as w,h as B,i as I,j as L,P as C,k as T,l as V,p as S,m as N,q as j,v as q}from"./index-73105f4a.js";const F={key:0,class:"pagination"},R=k({__name:"ThePagination",setup(i){return(h,n)=>{const s=v("router-link");return e(t).totalItems>12&&e(t).products.length>0?(u(),g("div",F,[o(s,{class:l(["first",{disabled:e(t).page-1<=0}]),to:"/products"},{default:r(()=>[o(e($))]),_:1},8,["class"]),e(t).page-1!==1?(u(),y(s,{key:0,class:l(["prev",{disabled:e(t).page-1<=0}]),to:`/products/${e(t).page-1}`},{default:r(()=>[d(_(e(t).page-1),1)]),_:1},8,["class","to"])):(u(),y(s,{key:1,class:l(["prev",{disabled:e(t).page-1<=0}]),to:"/products"},{default:r(()=>[d(_(e(t).page-1),1)]),_:1},8,["class"])),o(s,{class:"current",to:`/products/${e(t).page}`},{default:r(()=>[d(_(e(t).page),1)]),_:1},8,["to"]),o(s,{class:l(["next",{disabled:e(t).page*12+12>e(t).totalItems}]),to:`/products/${e(t).page+1}`},{default:r(()=>[d(_(e(t).page+1),1)]),_:1},8,["class","to"]),o(s,{class:l(["last",{disabled:e(t).page*12+12>e(t).totalItems}]),to:`/products/${Math.floor(e(t).totalItems/12)}`},{default:r(()=>[o(e(x))]),_:1},8,["class","to"])])):b("",!0)}}});const M=w(R,[["__scopeId","data-v-daacafc3"]]),A=i=>(S("data-v-19b99060"),i=i(),N(),i),D={key:0,class:"noResults"},z=A(()=>j("h2",null,"No results",-1)),E=k({__name:"ProductsView",setup(i){const c=T(),h=V(),n=12;function s(a){const p=Array.isArray(a.page)?parseInt(a.page[0]):parseInt(a.page)||1;t.setPage(p)}async function m(a){t.setProducts([]);const p=await q(a);t.setProducts(p.products),t.setTotalItems(p.total)}function f(){if(c.params.category){const a=`https://dummyjson.com/products/category/${c.params.category}?limit=${n}&skip=${(t.page-1)*n}&select=category,id,price,thumbnail,title`;m(a)}else if(c.params.query){const a=`https://dummyjson.com/products/search?q=${c.params.query}&select=category,id,price,thumbnail,title`;m(a)}else{const a=`https://dummyjson.com/products?limit=${n}&skip=${(t.page-1)*n}&select=category,id,price,thumbnail,title`;m(a)}}return B(()=>{f()}),s(c.params),I(()=>c.params,s),I(()=>t.page,()=>{f(),window.scrollTo({top:0,left:0,behavior:"smooth"})}),(a,p)=>{const P=v("router-link");return u(),g("main",null,[e(t).totalItems===0?(u(),g("div",D,[z,o(P,{onClick:L(e(h).back,["prevent"]),to:"/"},{default:r(()=>[d("Go Back")]),_:1},8,["onClick"])])):b("",!0),o(C),o(M)])}}});const H=w(E,[["__scopeId","data-v-19b99060"]]);export{H as default};
